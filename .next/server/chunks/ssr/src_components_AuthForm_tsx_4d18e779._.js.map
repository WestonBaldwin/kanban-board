{"version":3,"sources":["../../../../src/components/AuthForm.tsx","../../../../src/components/ui/input.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport {\n  useSignInEmailPassword,\n  useAuthenticationStatus,\n} from '@nhost/nextjs'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\n\nexport default function AuthForm() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [needsVerification, setNeedsVerification] = useState(false)\n\n  const {\n    signInEmailPassword,\n    isLoading,\n    isError,\n    error,\n  } = useSignInEmailPassword()\n\n  const { isAuthenticated } = useAuthenticationStatus()\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setNeedsVerification(false)\n\n    const result = await signInEmailPassword(email, password)\n\n    // User exists but hasnâ€™t clicked the verification email yet\n    if (result?.needsEmailVerification) {\n      setNeedsVerification(true)\n    }\n  }\n\n  // If we get here, auth + session are valid\n  if (isAuthenticated) {\n    return (\n      <div className=\"flex justify-center items-center min-h-screen\">\n        <Card className=\"w-full max-w-md\">\n          <CardHeader>\n            <CardTitle>Welcome back!</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p>You are signed in.</p>\n          </CardContent>\n        </Card>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex justify-center items-center min-h-screen bg-gray-50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <CardTitle>Sign In</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                Email\n              </label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                placeholder=\"Enter your email\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                Password\n              </label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                placeholder=\"Enter your password\"\n              />\n            </div>\n\n            <Button type=\"submit\" disabled={isLoading} className=\"w-full\">\n              {isLoading ? 'Signing in...' : 'Sign In'}\n            </Button>\n\n            {needsVerification && (\n              <p className=\"text-yellow-600 text-sm\">\n                Check your email and verify your account before signing in.\n              </p>\n            )}\n\n            {isError && !needsVerification && (\n              <p className=\"text-red-500 text-sm\">\n                {error?.message}\n              </p>\n            )}\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":"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"}